"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),mobx_react_1=require("mobx-react"),React=tslib_1.__importStar(require("react")),icons_1=require("../../common-elements/icons"),openapi_1=require("../../utils/openapi"),MenuItems_1=require("./MenuItems"),styled_elements_1=require("./styled.elements"),OptionsProvider_1=require("../OptionsProvider"),styled_components_1=tslib_1.__importDefault(require("../../styled-components")),Labels_1=require("../../services/Labels"),MenuItemLink=styled_elements_1.MenuItemLabel.withComponent("a");exports.MenuExternalLink=mobx_react_1.observer((function(e){var t=e.link;return React.createElement(styled_elements_1.MenuItemLi,{depth:1},React.createElement(MenuItemLink,{href:t.link,target:t.target,active:!1,depth:1},React.createElement(styled_elements_1.MenuItemTitle,{title:t.label},t.label)))})),exports.MenuItem=mobx_react_1.observer((function(e){var t=e.item,n=e.withoutChildren,a=React.createRef(),r=React.useState(!1),i=r[0],l=r[1],c=React.useState("group"===t.type&&t.expanded),m=c[0],o=c[1];React.useEffect((function(){l(t.active)}),[t.active]),React.useEffect((function(){o(t.expanded)}),[t.expanded]);var s=React.useCallback((function(t){e.onActivate(e.item,t),t.stopPropagation()}),[e.onActivate,e.item]);return React.useEffect((function(){e.item.active&&a.current&&a.current.scrollIntoViewIfNeeded()}),[e.item,e.item.active,a.current]),React.createElement(styled_elements_1.MenuItemLi,{onClick:s,depth:t.depth,"data-item-id":t.id},"operation"===t.type?React.createElement(exports.ProOperationMenuItemContent,tslib_1.__assign({},e,{item:t,ref:a})):React.createElement(styled_elements_1.MenuItemLabel,{depth:t.depth,active:i,type:t.type,ref:a,hasChildren:t.items&&t.items.length>0},t.depth>0&&t.items.length>0&&React.createElement(icons_1.ShelfIcon,{direction:m?"down":"right"})||null,React.createElement(styled_elements_1.MenuItemTitle,{title:t.name},t.name,e.children)),!n&&t.items&&t.items.length>0&&React.createElement(MenuItems_1.MenuItems,{expanded:m,items:t.items,onActivate:e.onActivate}))})),exports.ProOperationMenuItemContent=mobx_react_1.observer(React.forwardRef((function(e,t){var n,a,r=e.item;return"path-first"!==React.useContext(OptionsProvider_1.OptionsContext).sideNavStyle&&!r.search||"operation"!==r.type?(n=r.name,a=null):(n=React.createElement(exports.MenuItemPath,{title:r.path}," ",r.path," "),a=React.createElement(MenuItemDescription,null," ",r.name," ")),React.createElement(ProMenuItemLabel,{depth:r.depth,active:r.active,deprecated:r.deprecated,ref:t},r.isWebhook?React.createElement(styled_elements_1.OperationBadge,{type:"hook"},Labels_1.l("webhook")):React.createElement(styled_elements_1.OperationBadge,{type:r.httpVerb},openapi_1.shortenHTTPVerb(r.httpVerb)),React.createElement(styled_elements_1.MenuItemTitle,{width:"calc(100% - 42px)"},n,e.children),a)})));var ProMenuItemLabel=styled_components_1.default(styled_elements_1.MenuItemLabel)(templateObject_1||(templateObject_1=tslib_1.__makeTemplateObject(["\n  flex-wrap: wrap;\n"],["\n  flex-wrap: wrap;\n"])));exports.MenuItemPath=styled_components_1.default.code(templateObject_2||(templateObject_2=tslib_1.__makeTemplateObject(["\n  line-height: 1.4;\n  display: inline-block;\n  margin-bottom: 5px;\n  ","\n"],["\n  line-height: 1.4;\n  display: inline-block;\n  margin-bottom: 5px;\n  ","\n"])),(function(e){var t;return(null===(t=e.theme.sidebar)||void 0===t?void 0:t.breakPath)?"word-break: break-all":""}));var templateObject_1,templateObject_2,templateObject_3,MenuItemDescription=styled_components_1.default.small(templateObject_3||(templateObject_3=tslib_1.__makeTemplateObject(["\n  display: block;\n  font-size: 0.87em;\n  line-height: 1.2;\n"],["\n  display: block;\n  font-size: 0.87em;\n  line-height: 1.2;\n"])));
//# sourceMappingURL=MenuItem.js.map