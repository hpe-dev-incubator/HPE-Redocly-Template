"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),React=tslib_1.__importStar(require("react")),DropdownOrLabel_1=require("../DropdownOrLabel/DropdownOrLabel"),MediaTypesSwitch_1=require("../MediaTypeSwitch/MediaTypesSwitch"),SourceCode_1=require("../SourceCode/SourceCode"),shared_1=require("../../../../components/shared"),dropdown_1=require("../../common-elements/dropdown"),__1=require("../../.."),CodeSample=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(r,"state",{enumerable:!0,configurable:!0,writable:!0,value:{activeIdx:0}}),Object.defineProperty(r,"switchMedia",{enumerable:!0,configurable:!0,writable:!0,value:function(e){r.setState({activeIdx:e.idx})}}),Object.defineProperty(r,"renderDropdown",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return React.createElement(__1.DropdownWrapper,null,React.createElement(DropdownOrLabel_1.DropdownOrLabel,tslib_1.__assign({Label:shared_1.MimeLabel,Dropdown:dropdown_1.Dropdown,variant:"dark",fullWidth:!0},e)))}}),r}return tslib_1.__extends(r,e),Object.defineProperty(r.prototype,"renderSample",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.props.source?React.createElement(SourceCode_1.SourceCodeWithCopy,{lang:this.props.lang,source:this.props.source}):React.createElement(SourceCode_1.SourceCodeWithCopy,{lang:this.props.lang,externalSource:{sample:this.props.externalSample,exampleName:e,operation:this.props.operation}})}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,r=this.props.content;if(void 0===r||null!=this.props.source)return this.renderSample();var t=this.props.content&&this.props.content.mediaTypes.length>1;return React.createElement(MediaTypesSwitch_1.MediaTypesSwitch,{content:r,renderDropdown:t?this.renderDropdown:function(){return null}},(function(r){var t=r.examples||{},n=React.createElement(shared_1.NoSampleLabel,null,"No sample"),a=Object.keys(t);if(0===a.length)return n;if(a.length>1){var o=a.map((function(e,r){return{value:t[e].summary||e,idx:r}}));return React.createElement(React.Fragment,null,React.createElement(__1.DropdownWrapper,null,React.createElement(dropdown_1.Dropdown,{variant:"dark",fullWidth:!0,prefix:"Example: ",options:o,value:o[e.state.activeIdx].value,onChange:e.switchMedia})),e.renderSample(a[e.state.activeIdx]))}return e.renderSample()}))}}),r}(React.Component);exports.default=CodeSample;
//# sourceMappingURL=CodeSample.js.map