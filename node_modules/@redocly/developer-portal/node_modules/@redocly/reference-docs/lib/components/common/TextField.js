"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),react_1=tslib_1.__importDefault(require("react")),informed_1=require("informed"),informed_2=require("informed"),styled_components_1=tslib_1.__importStar(require("../../redoc-lib/src/styled-components")),form_1=require("./form"),redoc_lib_1=require("../../redoc-lib");exports.invertedInputStyles=styled_components_1.css(templateObject_1||(templateObject_1=tslib_1.__makeTemplateObject(["\n  border: none;\n  outline: none;\n  padding: 8px;\n  border-radius: ",";\n  background-color: ",";\n  ","\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n\n  &:-webkit-autofill {\n    background-color: ",";\n  }\n"],["\n  border: none;\n  outline: none;\n  padding: 8px;\n  border-radius: ",";\n  background-color: ",";\n  ","\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n\n  &:-webkit-autofill {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.shape.borderRadius}),(function(e){return e.theme.rightPanel.panelControlsBackgroundColor}),(function(e){var t=e.theme;return styled_components_1.mediaCSS({color:t.colors.text.light,fontFamily:t.typography.code.fontFamily,fontSize:t.typography.fontSize})}),(function(e){return e.theme.colors.text.light}),(function(e){return e.theme.rightPanel.panelBackgroundColor}));var TextFieldWrapper=styled_components_1.default.div(templateObject_2||(templateObject_2=tslib_1.__makeTemplateObject(["\n  display: ",";\n  ","\n"],["\n  display: ",";\n  ","\n"])),(function(e){return"hidden"===e.type?"none":"inline-block"}),(function(e){return e.fullWidth?"width: 100%;":""})),InputWrap=styled_components_1.default.div(templateObject_3||(templateObject_3=tslib_1.__makeTemplateObject(["\n  position: relative;\n"],["\n  position: relative;\n"])));exports.StyledInput=styled_components_1.default.input(templateObject_4||(templateObject_4=tslib_1.__makeTemplateObject(["\n  ","\n  ",";\n  ","\n"],["\n  ","\n  ",";\n  ","\n"])),exports.invertedInputStyles,(function(e){return"password"===e.inputType?"padding-right: 40px;":""}),(function(e){return e.fullWidth?"width: 100%;":""}));var ToggleButton=styled_components_1.default.span(templateObject_5||(templateObject_5=tslib_1.__makeTemplateObject(["\n  position: absolute;\n  right: 0;\n  line-height: normal;\n\n  font-size: 0.8em;\n  padding: calc(8px / 0.8);\n  cursor: pointer;\n  text-align: center;\n  ","\n"],["\n  position: absolute;\n  right: 0;\n  line-height: normal;\n\n  font-size: 0.8em;\n  padding: calc(8px / 0.8);\n  cursor: pointer;\n  text-align: center;\n  ","\n"])),(function(e){var t=e.theme;return styled_components_1.mediaCSS({color:t.rightPanel.textColor})}));function FormTextField(e){var t=informed_2.useField(tslib_1.__assign({fieldType:"text"},e)),n=t.userProps,r=t.render,l=t.informed,o=t.fieldState;return r(react_1.default.createElement(exports.TextField,tslib_1.__assign({},n,l,{errorMessage:o.error})))}exports.TextField=react_1.default.forwardRef((function(e,t){var n=e.fullWidth,r=e.errorMessage,l=react_1.default.useState("password"===e.type),o=l[0],a=l[1],i=react_1.default.useCallback((function(){a(!o)}),[o]);return react_1.default.createElement(TextFieldWrapper,{fullWidth:n,type:e.type},react_1.default.createElement(InputWrap,null,react_1.default.createElement(exports.StyledInput,tslib_1.__assign({},e,{type:o?"password":"text",inputType:e.type,ref:t})),"password"===e.type&&react_1.default.createElement(ToggleButton,{onClick:i}," ",o?"show":"hide"," ")),r?react_1.default.createElement(form_1.FormError,null,r):null)})),exports.FormTextField=FormTextField;var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,FormDropdownInt=function(e){var t=e.initValue,n=e.options,r=e.fieldApi,l=e.fieldState,o=n.map((function(e,t){return{value:e.title||e.value,idx:t,origValue:e.value}})),a=o.find((function(e){return e.origValue===t})),i=react_1.default.useState(null==a?void 0:a.value),u=i[0],d=i[1];react_1.default.useEffect((function(){t&&r.setValue(t)}),[]);var c=react_1.default.useCallback((function(e){r.setValue(o[e.idx].origValue),d(o[e.idx].value)}),[o]);return react_1.default.createElement(TextFieldWrapper,{fullWidth:!0},react_1.default.createElement(redoc_lib_1.Dropdown,{fullWidth:!0,variant:"dark",value:u,options:o,onChange:c}),l.error?react_1.default.createElement(form_1.FormError,null,l.error):null)};exports.FormDropdown=informed_1.asField(FormDropdownInt);
//# sourceMappingURL=TextField.js.map