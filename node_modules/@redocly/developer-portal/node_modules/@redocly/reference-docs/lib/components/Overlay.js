"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),React=tslib_1.__importStar(require("react")),redoc_lib_1=require("../redoc-lib"),INVALID_KEY="Invalid license key",INVALID_KEY_MISSING=INVALID_KEY+": missing key",EXPIRED="Invalid license key: expired",TRIAL_EXPIRED=EXPIRED,INVALID_HOST="Invalid license key: host not allowed";exports.Overlay=function(e){var n=e.l,t=React.useState(null),i=t[0],a=t[1],l=React.useState(-1),r=l[0],o=l[1],c=React.useState(!1),s=c[0],d=c[1];return React.useEffect((function(){tslib_1.__awaiter(void 0,void 0,void 0,(function(){var e;return tslib_1.__generator(this,(function(t){switch(t.label){case 0:return[4,n];case 1:return(e=t.sent()).local?(d(!0),[2]):(e.valid?e.allowed?e.expired&&a(e.t?EXPIRED:TRIAL_EXPIRED):a(INVALID_HOST):a(!1===e.valid?INVALID_KEY+(e.cryptoMissing?": works only with https":""):INVALID_KEY_MISSING),e.t&&o(Math.ceil((e.e-Date.now()/1e3)/60/60/24)),[2])}}))}))}),[]),s?React.createElement(TrialWrap,null,React.createElement("a",{href:"https://redoc.ly"},"Redocly API reference docs")," preview"):!i&&r>-1?React.createElement(TrialWrap,null," Trial version: ",r," days remaining "):i?React.createElement(Flash,null,React.createElement("span",null,i," ",React.createElement("br",null),React.createElement("small",null,"Please contact ",React.createElement("a",{href:"mailto:team@redoc.ly"},"team@redoc.ly")," to remedy the problem."," "))):null};var templateObject_1,templateObject_2,TrialWrap=redoc_lib_1.styled.div(templateObject_1||(templateObject_1=tslib_1.__makeTemplateObject(["\n  padding: 10px 40px;\n  position: fixed;\n  text-align: right;\n  width: 100%;\n  box-sizing: border-box;\n  color: orange;\n  z-index: 10;\n  opacity: 0.6;\n\n  > a,\n  a:visited {\n    color: orange;\n  }\n"],["\n  padding: 10px 40px;\n  position: fixed;\n  text-align: right;\n  width: 100%;\n  box-sizing: border-box;\n  color: orange;\n  z-index: 10;\n  opacity: 0.6;\n\n  > a,\n  a:visited {\n    color: orange;\n  }\n"]))),Flash=redoc_lib_1.styled.div(templateObject_2||(templateObject_2=tslib_1.__makeTemplateObject(["\n  font-size: 1.5em;\n  position: fixed;\n  z-index: 100;\n  background: rgba(38, 50, 56, 0.93);\n  margin: 0;\n  padding: 1em;\n  width: 100%;\n  color: white;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  text-align: center;\n  box-sizing: border-box;\n\n  > span {\n    display: inline-block;\n    line-height: 1.5;\n  }\n\n  a,\n  a:hover,\n  a:visited {\n    color: white;\n  }\n"],["\n  font-size: 1.5em;\n  position: fixed;\n  z-index: 100;\n  background: rgba(38, 50, 56, 0.93);\n  margin: 0;\n  padding: 1em;\n  width: 100%;\n  color: white;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  text-align: center;\n  box-sizing: border-box;\n\n  > span {\n    display: inline-block;\n    line-height: 1.5;\n  }\n\n  a,\n  a:hover,\n  a:visited {\n    color: white;\n  }\n"])));
//# sourceMappingURL=Overlay.js.map