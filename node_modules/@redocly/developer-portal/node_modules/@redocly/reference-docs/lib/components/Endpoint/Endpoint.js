"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),React=tslib_1.__importStar(require("react")),react_1=require("react"),OptionsProvider_1=require("../../redoc-lib/src/components/OptionsProvider"),StoreBuilder_1=require("../../redoc-lib/src/components/StoreBuilder"),ConsoleLazy_1=require("../console/ConsoleLazy"),Panel_1=require("../Panel"),ServerList_1=require("./ServerList"),Summary_1=require("./Summary"),react_2=require("react"),store_types_1=require("../../services/store-types");exports.Endpoint=function(e){var t=e.compact,r=e.operation,o=e.hideHostname,n=react_1.useState(!1),a=n[0],i=n[1],l=react_2.useContext(StoreBuilder_1.StoreContext),s=function(){var e,t;i(!a),null===(t=null===(e=null==l?void 0:l.options.events)||void 0===e?void 0:e.tryItOpen)||void 0===t||t.call(e,{eventType:store_types_1.AnalyticsEventType.TryItOpen,resource:"Redocly_OperationTryIt",action:(null==l?void 0:l.options.unstable_tryItButtonOverride)?"NavigatedOverrideLink":"Opened",operationId:r.operationId,operationPath:r.path,operationHttpVerb:r.httpVerb,operationSummary:r.description})};return React.createElement(React.Fragment,null,a?React.createElement(StoreBuilder_1.StoreConsumer,null,(function(e){return React.createElement(ConsoleLazy_1.Console,{store:e,operation:r,onClose:s})})):React.createElement(Panel_1.CodePanel,{header:function(e){var o=e.toggle,n=e.expanded;return React.createElement(Summary_1.Summary,{compact:t,operation:r,expanded:n,toggle:o,showConsole:!!(null==l?void 0:l.options.showConsole),onToggleConsole:s,tryItOverride:null==l?void 0:l.options.unstable_tryItButtonOverride})},collapsed:!0},React.createElement(OptionsProvider_1.OptionsConsumer,null,(function(e){return React.createElement(ServerList_1.ServerList,{operation:r,expandVariables:e.expandDefaultServerVariables,hideHostname:o||e.hideHostname})}))))};
//# sourceMappingURL=Endpoint.js.map