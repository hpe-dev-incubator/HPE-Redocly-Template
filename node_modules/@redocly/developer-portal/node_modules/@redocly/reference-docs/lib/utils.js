"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _store,tslib_1=require("tslib"),React=tslib_1.__importStar(require("react")),redoc_lib_1=require("./redoc-lib");function debounce(t,e,r){var o,a=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];function s(){a>1&&t.apply(void 0,n),a=0,o=null}a++,o?clearTimeout(o):r&&t.apply(void 0,n),o=setTimeout(s,e)}}function toStorage(t,e){window.sessionStorage.setItem("redoc."+t,e)}function fromStorage(t){return redoc_lib_1.IS_BROWSER&&window.sessionStorage.getItem("redoc."+t)||""}function setParameterValue(t,e,r){toStorage(t+"."+e,JSON.stringify(r))}function getParameterValue(t,e){try{return JSON.parse(fromStorage(t+"."+e))}catch(t){return null}}function toLocalStorage(t,e){window.localStorage.setItem("redoc."+t,e)}function fromLocalStorage(t){return redoc_lib_1.IS_BROWSER&&window.localStorage.getItem("redoc."+t)||""}function useDimensions(t){var e=React.useState(null),r=e[0],o=e[1];return React.useLayoutEffect((function(){if(t){var e=function(){return window.requestAnimationFrame((function(){return o(t.getBoundingClientRect())}))};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[t]),[r]}function setSecurityDetails(t,e){"string"==typeof e?toStorage("auth."+t,e):e&&(toStorage("auth."+t+".password",e.password||""),toStorage("auth."+t+".username",e.username||""),toStorage("auth."+t+".token",e.token&&JSON.stringify(e.token)||""),toStorage("auth."+t+".client_id",e.client_id||""),toStorage("auth."+t+".client_secret",e.client_secret||""),toStorage("auth."+t+".scopes",e.scopes&&JSON.stringify(e.scopes)||""))}function setSecurityDetailsVariants(t,e){toStorage("auth."+t+".variants",JSON.stringify(e))}function getSecurityDetails(t){var e=fromStorage("auth."+t),r=fromStorage("auth."+t+".token");return{raw:e,password:fromStorage("auth."+t+".password"),username:fromStorage("auth."+t+".username"),token:r&&JSON.parse(r)||null,client_id:fromStorage("auth."+t+".client_id"),client_secret:fromStorage("auth."+t+".client_secret"),scopes:fromStorage("auth."+t+".scopes")}}function getSecurityDetailsOptions(t,e){var r=fromStorage("auth."+t+".variants");if(!r)return null;var o=JSON.parse(r);return o&&Array.isArray(o)?o.map((function(t){return t.details?""===e&&t.details&&"string"==typeof t.details?{label:t.label,value:t.details}:"object"==typeof t.details?{label:t.label,value:t.details[e]}:null:null})).filter(notNull):null}function notNull(t){return null!==t}function get(t,e,r){return"string"==typeof e&&(e=e.split(".")),e.reduce((function(t,e){return t&&t[e]?t[e]:r}),t)}function joinStringFactory(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.filter(Boolean).join(t)}}exports.getGlobalStore=function(){return _store},exports.setGlobalStore=function(t){return _store=t},exports.debounce=debounce,exports.toStorage=toStorage,exports.fromStorage=fromStorage,exports.setParameterValue=setParameterValue,exports.getParameterValue=getParameterValue,exports.toLocalStorage=toLocalStorage,exports.fromLocalStorage=fromLocalStorage,exports.useDimensions=useDimensions,exports.setSecurityDetails=setSecurityDetails,exports.setSecurityDetailsVariants=setSecurityDetailsVariants,exports.getSecurityDetails=getSecurityDetails,exports.getSecurityDetailsOptions=getSecurityDetailsOptions,exports.get=get,exports.joinStringFactory=joinStringFactory,exports.dottedString=joinStringFactory(".");
//# sourceMappingURL=utils.js.map