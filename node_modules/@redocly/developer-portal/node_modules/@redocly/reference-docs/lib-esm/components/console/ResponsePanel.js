import{__extends,__makeTemplateObject}from"tslib";import*as React from"react";import{JsonViewer,styled}from"../../redoc-lib";import{SmallTab,TabList,TabPanel,Tabs}from"../Tabs";import{PanelWrap}from"./styled.components";var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,templateObject_8,ResponseBadges=styled.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"]))),ResponseBadgeBase=styled.div(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  display: inline-block;\n  margin-right: 20px;\n  padding: 2px 0;\n  text-align: center;\n  color: ",";\n"],["\n  display: inline-block;\n  margin-right: 20px;\n  padding: 2px 0;\n  text-align: center;\n  color: ",";\n"])),(function(e){return e.theme.colors.text.light})),ResponseBadge=styled(ResponseBadgeBase)(templateObject_3||(templateObject_3=__makeTemplateObject(["\n  color: ",";\n"],["\n  color: ",";\n"])),(function(e){var t=e.theme,n=e.code;return n>=200&&n<300?t.colors.responses.success.tabTextColor:n>=300&&n<400?t.colors.responses.redirect.tabTextColor:n>400?t.colors.responses.error.tabTextColor:t.colors.responses.info.tabTextColor})),HeaderName=styled.strong(templateObject_4||(templateObject_4=__makeTemplateObject(["\n  text-transform: capitalize;\n  display: inline-block;\n  padding-right: 5px;\n"],["\n  text-transform: capitalize;\n  display: inline-block;\n  padding-right: 5px;\n"]))),ErrorHeader=styled.header(templateObject_5||(templateObject_5=__makeTemplateObject(["\n  font-weight: bold;\n  margin-bottom: 10px;\n"],["\n  font-weight: bold;\n  margin-bottom: 10px;\n"]))),ErrorDetails=styled.code(templateObject_6||(templateObject_6=__makeTemplateObject(["\n  border-left: 3px solid #ff4040;\n  padding-left: 5px;\n"],["\n  border-left: 3px solid #ff4040;\n  padding-left: 5px;\n"]))),OtherResponse=styled.pre(templateObject_7||(templateObject_7=__makeTemplateObject(["\n  overflow: auto;\n  font-size: 0.9em;\n"],["\n  overflow: auto;\n  font-size: 0.9em;\n"]))),ResponseTabs=styled(Tabs)(templateObject_8||(templateObject_8=__makeTemplateObject(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"],["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]))),ResponsePanel=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.props,n=t.error,a=t.response,l=t.time,r=a||n&&n.response,c=r&&r.data&&r.data.length||0;if(e=c>1e6?(c/1e6).toFixed(2)+" MB":c>1e3?(c/1e3).toFixed(2)+" KB":c+" B",n&&!n.response||!r)return React.createElement(React.Fragment,null,React.createElement(ErrorHeader,null," Could not get any response "),React.createElement(ErrorDetails,null,n&&n.message||"Unknown error"),React.createElement("br",null),React.createElement(ErrorHeader,null," Why this might have happened:"),React.createElement("div",null," - CORS is misconfigured on the server"),React.createElement("div",null," - The server couldn't sent a response"),React.createElement("div",null," - No internet access"),React.createElement("div",null," - Documentation issue - contact API owner"),React.createElement("div",null," - Misconfigured security definition"));if(!r)return"Something went wrong";var o=Object.keys(r.headers);return React.createElement(React.Fragment,null,React.createElement(ResponseBadges,null,React.createElement(ResponseBadge,{code:r.status},React.createElement("span",null," Status: "),r.status," ",r.statusText),React.createElement(ResponseBadgeBase,null," ",React.createElement("span",null," Time: "),l,"ms"),React.createElement(ResponseBadgeBase,null," ",React.createElement("span",null," Size: "),e)),React.createElement(ResponseTabs,{forceRenderTabPanel:!0},React.createElement(TabList,null,React.createElement(SmallTab,{key:"body"},"Body"),React.createElement(SmallTab,{key:"headers"},"Headers")),React.createElement(TabPanel,{key:"body"},React.createElement(PanelWrap,null,r.body&&React.createElement(JsonViewer,{data:r.body})||null,!r.body&&null!=r.data&&React.createElement(OtherResponse,null,r.data?React.createElement("code",null,r.data):React.createElement("i",null,"no content"))||null)),React.createElement(TabPanel,{key:"headers"},React.createElement(PanelWrap,null,o.map((function(e){return React.createElement("div",{key:e},React.createElement(HeaderName,null,e,":"),React.createElement("code",null," ",r.headers[e]))}))))))}}),t}(React.PureComponent);export{ResponsePanel};
//# sourceMappingURL=ResponsePanel.js.map