import{__assign,__extends}from"tslib";import*as React from"react";import{DropdownOrLabel}from"../DropdownOrLabel/DropdownOrLabel";import{MediaTypesSwitch}from"../MediaTypeSwitch/MediaTypesSwitch";import{SourceCodeWithCopy}from"../SourceCode/SourceCode";import{MimeLabel,NoSampleLabel}from"../../../../components/shared";import{Dropdown}from"../../common-elements/dropdown";import{DropdownWrapper}from"../../..";var CodeSample=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(r,"state",{enumerable:!0,configurable:!0,writable:!0,value:{activeIdx:0}}),Object.defineProperty(r,"switchMedia",{enumerable:!0,configurable:!0,writable:!0,value:function(e){r.setState({activeIdx:e.idx})}}),Object.defineProperty(r,"renderDropdown",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return React.createElement(DropdownWrapper,null,React.createElement(DropdownOrLabel,__assign({Label:MimeLabel,Dropdown:Dropdown,variant:"dark",fullWidth:!0},e)))}}),r}return __extends(r,e),Object.defineProperty(r.prototype,"renderSample",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.props.source?React.createElement(SourceCodeWithCopy,{lang:this.props.lang,source:this.props.source}):React.createElement(SourceCodeWithCopy,{lang:this.props.lang,externalSource:{sample:this.props.externalSample,exampleName:e,operation:this.props.operation}})}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,r=this.props.content;if(void 0===r||null!=this.props.source)return this.renderSample();var t=this.props.content&&this.props.content.mediaTypes.length>1;return React.createElement(MediaTypesSwitch,{content:r,renderDropdown:t?this.renderDropdown:function(){return null}},(function(r){var t=r.examples||{},o=React.createElement(NoSampleLabel,null,"No sample"),n=Object.keys(t);if(0===n.length)return o;if(n.length>1){var a=n.map((function(e,r){return{value:t[e].summary||e,idx:r}}));return React.createElement(React.Fragment,null,React.createElement(DropdownWrapper,null,React.createElement(Dropdown,{variant:"dark",fullWidth:!0,prefix:"Example: ",options:a,value:a[e.state.activeIdx].value,onChange:e.switchMedia})),e.renderSample(n[e.state.activeIdx]))}return e.renderSample()}))}}),r}(React.Component);export default CodeSample;
//# sourceMappingURL=CodeSample.js.map